<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EvoMol-Lab | UFRN</title>
    
    <link rel="icon" href="ficon.png" type="image/png">

    <style>
        /* Basic Setup */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            background-color: #f8f9fa;
            color: #333;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 960px;
            margin: 20px auto;
            padding: 20px;
            background: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        /* Header */
        header {
            border-bottom: 2px solid #eee;
            padding-bottom: 20px;
            margin-bottom: 20px;
            text-align: center; /* Center the content */
        }
        header .banner-img {
            max-width: 100%;
            height: auto;
            border-radius: 8px; /* Slightly rounded corners for the banner */
            margin-bottom: 15px; /* Space between banner and text */
        }
        header .logo-img {
            height: 60px; /* Adjust logo height as needed */
            vertical-align: middle;
            margin-right: 10px;
        }
        header h1 {
            color: #2c3e50;
            margin: 0;
            display: inline-block; /* Allows logo and title to be on same line */
            vertical-align: middle;
        }
        header h2 {
            color: #34495e;
            margin: 5px 0;
            font-weight: 400;
        }
        header p {
            color: #7f8c8d;
            font-style: italic;
            margin: 0;
        }

        /* Navigation Tabs */
        nav {
            background: #34495e;
            overflow: hidden;
            border-radius: 5px;
        }
        nav button {
            background-color: #34495e;
            border: none;
            color: white;
            padding: 14px 20px;
            float: left;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
            outline: none;
        }
        nav button:hover {
            background-color: #4a6580;
        }
        nav button.active {
            background-color: #007bff;
        }

        /* Tab Content */
        .tab-content {
            display: none;
            padding: 20px 0;
            animation: fadeIn 0.5s;
        }
        .tab-content.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Section-specific styles */
        #home p {
            text-align: justify;
        }

        #publications ul {
            list-style-type: none;
            padding-left: 0;
        }
        #publications li {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        #publications li strong {
            font-size: 1.1em;
            color: #0056b3;
        }
        #publications li a {
            text-decoration: none;
            color: #0056b3;
        }
        #publications li a:hover {
            text-decoration: underline;
        }
        #publications li em {
            color: #555;
            display: block;
            margin-top: 5px;
        }
        
        /* --- Styles for new Tools tab --- */
        #tools h2 {
            color: #2c3e50;
            border-bottom: 2px solid #eee;
            padding-bottom: 5px;
            margin-top: 25px;
        }
        #tools .tool-link-button {
            display: inline-block;
            background-color: #007bff;
            color: #ffffff;
            padding: 10px 15px;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        #tools .tool-link-button:hover {
            background-color: #0056b3;
            color: #ffffff;
        }
        #tools hr {
            border: 0;
            border-top: 2px solid #eee;
            margin: 30px 0;
        }
        #tools .tool-entry {
            display: flex;
            align-items: flex-start;
            margin-top: 20px;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        #tools .tool-entry:last-child {
            border-bottom: none;
        }
        #tools .tool-entry img {
            width: 100px; /* Controlled width */
            height: 100px; /* Fixed height for uniformity */
            object-fit: contain; /* Ensures logo fits well */
            margin-right: 20px;
            flex-shrink: 0; /* Prevents image from shrinking */
        }
        #tools .tool-entry-description {
            flex: 1;
        }
        #tools .tool-entry-description h3 {
            margin-top: 0;
            color: #34495e;
        }
        #tools .tool-entry-description p {
            margin-bottom: 10px;
            text-align: justify;
        }
        #tools .tool-entry-description a {
            text-decoration: none;
            color: #007bff;
            font-weight: bold;
        }
        #tools .tool-entry-description a:hover {
            text-decoration: underline;
        }

        #people ul {
            list-style-type: disc;
            padding-left: 20px;
        }

        /* Footer */
        footer {
            text-align: center;
            margin-top: 30px;
            font-size: 0.9em;
            color: #888;
        }

        /* Responsive Design */
        @media (max-width: 600px) {
            nav button {
                width: 100%;
                float: none;
                text-align: left;
            }
            .container {
                margin: 0;
                padding: 15px;
                border-radius: 0;
            }
            header .logo-img {
                height: 40px; /* Smaller logo on small screens */
            }
            #tools .tool-entry {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }
            #tools .tool-entry img {
                margin-right: 0;
                margin-bottom: 15px;
            }
            #tools .tool-entry-description p {
                text-align: center;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <img src="banner.png" alt="EvoMol Lab Banner" class="banner-img">

            <div>
                <img src="EvoMol-logo.png" alt="EvoMol Lab Logo" class="logo-img">
                <h1>EvoMol-Lab</h1>
            </div>
            
            <h2>Laboratory of Evolution of Molecules and Systems</h2>
            <p>
                Associated with the Bioinformatics Multidisciplinary Environment (BioME),
                Metrópole Digital Institute (IMD), Federal University of Rio Grande do Norte (UFRN)
            </p>
        </header>

        <nav>
            <button class="tab-link active" onclick="openTab(event, 'home')">Home</button>
            <button class="tab-link" onclick="openTab(event, 'publications')">Publications</button>
            <button class="tab-link" onclick="openTab(event, 'tools')">Tools</button>
            <button class="tab-link" onclick="openTab(event, 'people')">People</button>
        </nav>

        <main>
            <div id="home" class="tab-content active">
                <h2>Welcome to EvoMol-Lab</h2>
                <p>
                    The Laboratory of Evolution of Molecules and Systems (EvoMol-Lab) is one of the research groups associated with the Bioinformatics Multidisciplinary Environment (BioME), at the Metrópole Digital Institute (IMD) of the Federal University of Rio Grande do Norte (UFRN).
                </p>
                <p>
                    EvoMol-Lab's mission is to study evolutionary processes that act on molecules, supramolecular complexes, and systems (pathways and interaction networks) and the structural and functional effects caused by genetic variation, using approaches from Bioinformatics, molecular modeling, and evolutionary sequence analysis.
                </p>
                <p>
                    Its Principal Investigator is Prof. João Paulo MS Lima, Full Professor at UFRN.
                </p>
            </div>

            <div id="publications" class="tab-content">
                <h2>Publications</h2>
                <p id="publications-loading">Loading publications from ORCID...</p>
                <ul id="publications-list">
                    </ul>
            </div>

            <div id="tools" class="tab-content">
                <h2>Our Bioinformatics tutorials page:</h2>
                <p><a href="https://jpmslima.github.io" target="_blank" rel="noopener noreferrer" class="tool-link-button">Tutoriais BioinfoX</a></p>

                <hr>

                <h2>Our tools:</h2>
                <p>"EvoMol-Lab has a series of <b><i>"magic"</i></b> tools to help you with your work and analyses.</p>

                <div class="tool-entry">
                    <img src="CaRinDB.png" alt="CarinDB" />
                    <div class="tool-entry-description">
                        <h3>CaRinDB</h3>
                        <p>CaRinDB is an interactive database designed to streamline cancer mutation research by integrating data from The Cancer Genome Atlas (TCGA) and advanced structural analysis tools, along with advanced effect predictions and molecular features such as Residue Interaction Networks (RINs) derived from Protein Data Bank experimental structures and AlphaFoldDB computational models. Covering 33 distinct cancer types, CaRinDB offers a broad spectrum of insights into cancer mutation dynamics.</p>
                        <p><a href="https://bioinfo.imd.ufrn.br/CaRinDB/" target="_blank" rel="noopener noreferrer">Go to CaRinDB</a></p>
                    </div>
                </div>

                <div class="tool-entry">
                    <img src="SlytheRINs.png" alt="SlytheRINs" />
                    <div class="tool-entry-description">
                        <h3>SlyTheRINs</h3>
                        <p>SlytheRINs is an interactive Python web application built with Streamlit (https://streamlit.io), designed to analyze and compare protein Residue Interaction Networks (RINs). These graphs represent the amino acid residues as the nodes and their chemical interactions as the edges. They can be easily generated from a single or multiple protein structures, using computational modeling methods, normal-based mode, or molecular dynamics simulation. SlytheRINs provides an analysis dashboard to explore and compare network parameters, identify significant residue-level changes across different conformations, analyze chemical interaction types, and integrate these findings with predicted mutation effects from AlphaMissense (in the case of human proteins).</p>
                        <p><a href="https://slytherins.streamlit.app" target="_blank" rel="noopener noreferrer">Go to SlyTheRins</a></p>
                    </div>
                </div>

                <div class="tool-entry">
                    <img src="RoC-Logo.png" alt="RoC" />
                    <div class="tool-entry-description">
                        <h3>The Room of Conformations (RoC)</h3>
                        <p>A user-friendly desktop tool for generating all-atom protein conformational ensembles using Normal Mode Analysis.</p>
                        <p><a href="https://github.com/evomol-lab/RoC" target="_blank" rel="noopener noreferrer">Go to RoC (GitHub)</a></p>
                        <p><a href="https://colab.research.google.com/drive/1jd3qgAZPF9bWxlcCjYURpFQAEYW102Y5?usp=sharing" target="_blank" rel="noopener noreferrer">Go to RoC (Google Colab)</a></p>
                    </div>
                </div>

                <div class="tool-entry">
                    <img src="RevelioPlots.png" alt="RevelioPlots" />
                    <div class="tool-entry-description">
                        <h3>RevelioPlots</h3>
                        <p>RevelioPlots is an interactive web application designed for the quality assessment of protein structure models. By parsing Crystallographic Information Files (.cif or .mmcif), the app provides a suite of intuitive visualizations centered around the per-residue Local Distance Difference Test (pLDDT) score, a key metric for model confidence, particularly in structures generated by tools like AlphaFold.</p>
                        <p><a href="https://revelioplots.streamlit.app" target="_blank" rel="noopener noreferrer">Go to RevelioPlots (App)</a></p>
                        <p><a href="https://github.com/jpmslima/RevelioPlots" target="_blank" rel="noopener noreferrer">Go to RevelioPlots (GitHub)</a></p>
                    </div>
                </div>

                <div class="tool-entry">
                    <img src="HufflePlots.jpg" alt="HufflePlots" />
                    <div class="tool-entry-description">
                        <h3>HufflePlots</h3>
                        <p>HufflePlots is a simple and interactive tool to visualize, analyze and compare RMSD and RMSF plots of protein structural trajectories data from Molecular Dynamics or Normal mode-based geometric simulations.</p>
                        <p><a href="https://protplots.streamlit.app" target="_blank" rel="noopener noreferrer">Go to HufflePlots</a></p>
                    </div>
                </div>

                <div class="tool-entry">
                    <img src="DDEA.png" alt="DDEA" />
                    <div class="tool-entry-description">
                        <h3>Differential Expression Diagonal Alley (DDEA)</h3>
                        <p>DDEA is a simple Streamlit application to analyze Case x Control gene expression output data from GEO. Allows users to upload a .tsv file, a custom gene list (optional), and specify a comparison string, with controls in a sidebar. DDEA then plots differentially expressed genes using Plotly and displays their p-values.</p>
                        <p><a href="https://ddealley.streamlit.app/" target="_blank" rel="noopener noreferrer">Go to DDEA</a></p>
                    </div>
                </div>

                <div class="tool-entry">
                    <img src="Rictusempra.png" alt="Rictusempra" />
                    <div class="tool-entry-description">
                        <h3><i>Rictusempra</i></h3>
                        <p>Rictusempra is a web-based cheminformatics tool for interactively visualizing small molecules and calculating their most likely protonation state at a given physiological pH. It provides a simple interface to generate 2D and 3D molecular structures and prepare them for further computational chemistry tasks like molecular docking or simulation.</p>
                        <p><a href="https://rictusempra.streamlit.app" target="_blank" rel="noopener noreferrer">Go to Rictusempra</a></p>
                    </div>
                </div>

                <div class="tool-entry">
                    <img src="MaraudersGenoMap.png" alt="MaraudersGenoMap" />
                    <div class="tool-entry-description">
                        <h3>Marauder's GenoMap</h3>
                        <p>A comprehensive pipeline for the discovery of protein families in de novo assembled genomes and transcriptomes.</p>
                        <p><a href="https://github.com/evomol-lab/MaraudersGenoMap" target="_blank" rel="noopener noreferrer">Go to Marauder's GenoMap (GitHub)</a></p>
                    </div>
                </div>

                <div class="tool-entry">
                    <img src="PensievePlotter.png" alt="PensievePlotter" />
                    <div class="tool-entry-description">
                        <h3>The Pensieve Plotter</h3>
                        <p>An interactive tool for visualizing Extended Bayesian Skyline Plots (EBSP) from BEAST log files.</p>
                        <p><a href="httpss://pensieveplotter.streamlit.app/" target="_blank" rel="noopener noreferrer">Go to The Pensieve Plotter</a></p>
                    </div>
                </div>
            </div>
            <div id="people" class="tab-content">
                <h2>People</h2>
                <p>Add profiles of your lab members here. You can add sections for the PI, Post-docs, PhD students, Master's students, and alumni.</p>
                
                <h3>Principal Investigator</h3>
                <ul>
                    <li>Prof. João Paulo MS Lima</li>
                </ul>

                <h3>Students</h3>
                <ul>
                    <li>(Student Name 1)</li>
                    <li>(Student Name 2)</li>
                </ul>
                
            </div>
        </main>

        <footer>
            <p>&copy; <span id="current-year"></span> EvoMol-Lab | Federal University of Rio Grande do Norte (UFRN)</p>
        </footer>
    </div>

    <script>
        // --- Tab Navigation Function ---
        function openTab(evt, tabName) {
            // Get all elements with class="tab-content" and hide them
            var tabcontent = document.getElementsByClassName("tab-content");
            for (var i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
                tabcontent[i].classList.remove("active");
            }

            // Get all elements with class="tab-link" and remove the class "active"
            var tablinks = document.getElementsByClassName("tab-link");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].classList.remove("active");
            }

            // Show the current tab, and add an "active" class to the button that opened the tab
            document.getElementById(tabName).style.display = "block";
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }

        // --- Run functions on page load ---
        document.addEventListener('DOMContentLoaded', function() {
            // Set the copyright year
            document.getElementById('current-year').textContent = new Date().getFullYear();

            // Fetch publications
            fetchPublications();
        });

        // --- ORCID Fetch Function ---
        async function fetchPublications() {
            const orcidId = '0000-0002-6113-8834';
            const apiUrl = `https://pub.orcid.org/v3.0/${orcidId}/works`;
            const listElement = document.getElementById('publications-list');
            const loadingElement = document.getElementById('publications-loading');

            try {
                const response = await fetch(apiUrl, {
                    headers: { 'Accept': 'application/json' }
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();
                
                // Clear loading message
                loadingElement.style.display = 'none';

                if (data.group && data.group.length > 0) {
                    // Sort works by publication-date (newest first)
                    const sortedWorks = data.group.sort((a, b) => {
                        const dateA = a['work-summary'][0]['publication-date'];
                        const dateB = b['work-summary'][0]['publication-date'];
                        // Handle potential null dates
                        const yearA = dateA ? (dateA.year ? parseInt(dateA.year.value) : 0) : 0;
                        const yearB = dateB ? (dateB.year ? parseInt(dateB.year.value) : 0) : 0;
                        return yearB - yearA;
                    });

                    // Process and display each work
                    sortedWorks.forEach(workGroup => {
                        const summary = workGroup['work-summary'][0];
                        
                        const title = summary.title.title.value;
                        const journal = summary['journal-title'] ? summary['journal-title'].value : 'N/A';
                        
                        // Get publication year
                        let year = '';
                        if (summary['publication-date'] && summary['publication-date'].year) {
                            year = summary['publication-date'].year.value;
                        }

                        // Find the DOI
                        let doi = '';
                        let doiLink = '#';
                        if (summary['external-ids'] && summary['external-ids']['external-id']) {
                            const doiObj = summary['external-ids']['external-id'].find(id => id['external-id-type'] === 'doi');
                            if (doiObj) {
                                doi = doiObj['external-id-value'];
                                doiLink = `https://doi.org/${doi}`;
                            }
                        }

                        // Create list item
                        const li = document.createElement('li');
                        li.innerHTML = `
                            <strong><a href="${doiLink}" target="_blank" rel="noopener noreferrer">${title}</a></strong>
                            <em>${journal} (${year})</em>
                            ${doi ? `<span>DOI: ${doi}</span>` : ''}
                        `;
                        listElement.appendChild(li);
                    });
                } else {
                    listElement.innerHTML = '<li>No publications found.</li>';
                }

            } catch (error) {
                console.error('Error fetching ORCID data:', error);
                loadingElement.textContent = 'Failed to load publications. Please try again later.';
            }
        }
    </script>

</body>
</html>
